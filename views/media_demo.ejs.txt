<!doctype html>
<html>
<head><meta charset="utf-8"/><title>Media Demo</title></head>
<body>
  <h1>Camera / Microphone Demo</h1>
  <button id="start">Start</button>
  <button id="stop">Stop</button>
  <div><video id="video" autoplay playsinline width="480" height="360"></video></div>
  <script>
    let stream;
    document.getElementById('start').addEventListener('click', async () => {
      try {
        stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
        document.getElementById('video').srcObject = stream;
      } catch(err) {
        alert("Permission denied: " + err.message);
      }
    });
    document.getElementById('stop').addEventListener('click', () => {
      if (stream) { stream.getTracks().forEach(t => t.stop()); document.getElementById('video').srcObject = null; }
    });
  </script>
</body>
</html>
